%!TEX root = paper.tex

\section {Implementation and Optimization}
\label{sec:implementation}

\begin{concretesyntax}
We have implemented the semantics and splitting algorithm of \lang\ in Standard ML.
In addition to the features shown here, our implementation includes more base types, 
$n$-ary products and sums, if and let statements, and a basic elaboration step.

Applying the rules of \cref{sec:splitting} naively can yield inefficient split programs.
In many cases, the results can be improved by considering special cases in individual rules.
For instance, trivial subterm precomputations needn't be saved at tuples:
\[
\infer {\splittwo {(e_1,e_2)} A {p,l.(r_1,r_2)}}{\splittwo {e_1} A {(),\_.r_1} & \splittwo {e_2} A {p,l.r_2}}
\]
Our implementation uses many optimizations like these.

\end{concretesyntax}