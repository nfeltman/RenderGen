\begin{figure*}
\textbf{Languages:}
\begin{itemize}
\item \lang: two-staged typed lambda calculus with product, sum, and
  recursive types
\item \langTwo: monostaged typed lambda calculus
\item \langmono: an unstaged lambda calculus
\end{itemize}

\textbf{\lang\ Dynamic Semantics (\ref{sec:semantics})}
\begin{itemize}
\item 
\bbone-Evaluation: $e\mathbin{\redonesym}[\xi;v]$, where $\xi$ is a \emph{residual table} and $v$ is a \emph{partial value}. 

\item
Residualization: $e\mathbin{\redtwosym}q$, where $q$ is a \emph{residual} in the unstaged language \langTwo

\item 
Table reification: $[\xi;q]\mathbin{\reifysym} q'$, where $q,q'$ are residuals,
$\xi$ is a residual table.

\item
Residual evaluation: $q\mathbin{\redsym} v$, where $q$ is a residual, $v$ is a
value.
\end{itemize}

\textbf{\lang\ Splitting (\ref{sec:splitting})}

\hspace{2em}\bbone-Splitting Structure: $e \splitonesym [c,l.r]$, where:

\hspace{4em}$c$ is the \emph{combined term}
(representing all stage~\bbone\ subcomputations in $e$)
in \langmono

\hspace{4em}$l.r$ is the \emph{resumer}
(representing all stage~\bbtwo\ subcomputations in $e$)
in \langmono

\hspace{4em}$c~\redsym~(y,b)$, where 
$y$ is the \emph{\bbone-result} of $e$, and
$b$ is the \emph{boundary value} of $e$

\hspace{2em}\bbone-Splitting Correctness: If $e\mathbin{\redonesym}[\xi;v]$, then:

\hspace{4em}$y$ is identical to $\masko{\xi;v}$

\hspace{4em}$\maskt{\xi;v}$ and \texttt{(let l=b in r)} 
reduce (via $\redsym$) to equivalent values.  

\hspace{2em}\bbtwo-Splitting Structure: $e \splittwosym [p,l.r]$, where:

\hspace{4em}$p$ is the \emph{precomputation}
(representing all stage~\bbone\ subcomputations in $e$)
in \langmono

\hspace{4em}$l.r$ is the \emph{resumer}
(representing all stage~\bbtwo\ subcomputations in $e$)
in \langmono

\hspace{2em}\bbtwo-Splitting Correctness:
If $e~\redtwosym~q$, and $q~\redsym~v$, then
\texttt{(let l=p in r)}~$\redsym~v'$ and $v,v'$ are equivalent.
% TODO: FIX THIS
% if e reduces to q, then p reduces to u
% and q == [u/l]r
% that is, stage 1 reduces, even if stage 2 doesn't

\caption{Summary of \lang\ evaluation and splitting.}
\label{fig:termSplitSummary}
\end{figure*}

