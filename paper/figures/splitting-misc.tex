%!TEX root = ../paper.tex

\begin{figure*}
\begin{abstrsyn}
\begin{mathpar}
\infer {\rtab {\hat y \mapsto q,\xi} v	\vsplito \mval i {\letin {\hat y} q r}}				{\rtab \xi v \vsplito \mval i r}					\and
\infer {\rtab \cdot {\tup{}} 			\vsplito \mval {\tup{}} {\tup{}}}					{\cdot}												\and
\infer {\rtab \cdot {\pure m} 			\vsplito \mval m {\tup{}}}							{\cdot}												\and
\infer {\rtab \cdot {\next{\hat y}} 	\vsplito \mval {\tup{}} {\hat y}}					{\cdot}												\and
\infer {\rtab \cdot {\tup{v_1,v_2}} 	\vsplito \mval {\tup{i_1,i_2}} {\tup{r_1,r_2}}}		{\rtab \cdot {v_1} \vsplito \mval {i_1} {r_1} 
																							&\rtab \cdot {v_2} \vsplito \mval {i_2} {r_2}}		\and
\infer {\rtab \cdot {\scriptCapp v} 	\vsplito \mval {\scriptCapp i} r}					{\rtab \cdot v \vsplito \mval i r
																							&\scriptC \in 
																							\{\mathtt{inl},\mathtt{inr},\mathtt{roll}\}}		\and
\infer {\rtab \cdot {\lam x e}			\vsplito \mval {\lam x c} {\lam {\tup{x,l}} r}}		{\splitone e A c {l.r}}								\and
\end{mathpar}
\end{abstrsyn}
\caption{The masking relation converts a \lang\ partial value to a masked value
comprising the separated first-stage and second-stage parts.}
\label{fig:valMask}
\end{figure*}
