\begin{figure}
%\begin{subfigure}{0.5\textwidth}
\begin{lstlisting}
1`datatype list = Empty | Cons of int * list
fun partition (p : int, l : list) = ...`
	
datatype tree = Branch of int * int * tree * tree
                | Leaf

1`fun qSelect1 (l : list) : tree =
  case l of
    Empty => Leaf
  | Cons ht => 
      let (left,right,n) = partition ht in
      Branch (n, #1 ht, qSelect1 left, qSelect1 right)`

2`fun qSelect2 (p : tree, k : int) : int = 
  case p of
    Leaf => 0
  | Branch (n,h,p1,p2) => 
      case compare k n of
        LT => qSelect2 (p1,k)
      | EQ => h
      | GT => qSelect2 (p2,k-n-1)`
\end{lstlisting}
\caption{Split (two-phase) implementation of quickselect.}
\label{fig:qs-split}
%\end{subfigure}
%\caption{Caption place holder}
\end{figure}

