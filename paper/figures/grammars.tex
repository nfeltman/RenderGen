%!TEX root = ../paper.tex

\begin{figure}
\begin{abstrsyn}
\[\begin{aligned}
\text{Worlds}\ \ 
\world &::= \bbonem \gbar \bbonep \gbar \bbtwo  \\
%
\text{\bbonem-Types}\ \ 
\type_\bbonem &::= \text{unit}
 \gbar \type_\bbonem \times \type_\bbonem
 \gbar \type_\bbonem + \type_\bbonem \\
&\gbar \type_\bbonem \to \type_\bbonem
 \gbar \alpha \gbar \mu \alpha.\tau_\bbonem \\
&\gbar \fut \type_\bbtwo
 \gbar \curr \type_\bbonep \\
%
\text{\bbonep-Types}\ \ 
\type_\bbonep &::= \text{unit}
 \gbar \type_\bbonep \times \type_\bbonep
 \gbar \type_\bbonep + \type_\bbonep \\
&\gbar \type_\bbonep \to \type_\bbonep
 \gbar \alpha \gbar \mu \alpha.\tau_\bbonep \\
%
\text{\bbtwo-Types}\ \ 
\type_\bbtwo &::= \text{unit}
 \gbar \type_\bbtwo \times \type_\bbtwo
 \gbar \type_\bbtwo + \type_\bbtwo \\
&\gbar \type_\bbtwo \to \type_\bbtwo
 \gbar \alpha \gbar \mu \alpha.\tau_\bbonep \\
%
%\text{Types}\ \ 
%\type &::= \text{unit}%\gbar\text{int}%~|~\text{bool}
% \gbar \type \times \type
% \gbar \type + \type \\
%&\gbar \type \to \type
% \gbar \alpha \gbar \mu \alpha.\tau \\
%&\gbar \fut \type 
% \gbar \curr \type \\
%
\text{Contexts}\ \ 
\context &::=\emptyC
 \gbar \context, x:\tau_w~@~w \\
%\context &::=\emptyC \gbar \context, \colwor \var \type \\
%
\text{Expressions}\ \ 
\expr &::= \tup{}\gbar\var%\bool
 \gbar \lam {\var}{\expr} 
 \gbar \app \expr \expr \\
&\gbar \tup{\expr, \expr} 
 \gbar \pio \expr 
 \gbar \pit \expr \\
&\gbar \inl \expr 
 \gbar \inr \expr
 \gbar \caseof {\expr}{\var.\expr}{\var.\expr}
\\ %\gbar \ifthen {\expr_1}{\expr_2}{\expr_3} \\
&\gbar \roll e
 \gbar \unroll e
 \gbar \fix \var \var \expr\\
 %\gbar \letin{\var}{\expr_1}{\expr_2} \\
&\gbar \next \expr 
 \gbar \prev \expr
% \gbar \pause \expr \\
 \gbar \pure \expr \\
&\gbar \letp \var \expr \expr
 \gbar \caseP \expr {\var.\expr} {\var.\expr} \\
\text{Program} &::= \coltwo e \tau \\
\end{aligned}\]
\end{abstrsyn}
\caption{\lang~syntax.}
\label{fig:grammar}
\end{figure}
