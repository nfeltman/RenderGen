%!TEX root = ../paper.tex

\begin{figure}
\begin{abstrsyn}
\[\begin{aligned}
\text{Worlds}\ \ 
\world &::= \bbonem \gbar \bbonep \gbar \bbtwo  \\
%
\text{Types}\ \ 
\type &::= \text{unit}\gbar\text{int}%~|~\text{bool}
 \gbar \type \times \type
 \gbar \type + \type \\
&\gbar \type \to \type
 \gbar \alpha \gbar \mu \alpha.\tau \\
&\gbar \fut \type 
 \gbar \curr \type \\
%
\text{Contexts}\ \ 
\context &::=\emptyC
 \gbar \context, x:\tau~@~w \\
%\context &::=\emptyC \gbar \context, \colwor \var \type \\
%
\text{Expressions}\ \ 
\expr &::= ()\gbar\inte\gbar\var%\bool
 \gbar \lam {\var}{\expr} 
 \gbar \app \expr \expr \\
&\gbar (\expr, \expr) 
 \gbar \pio \expr 
 \gbar \pit \expr \\
&\gbar \inl \expr 
 \gbar \inr \expr
 \gbar \caseof {\expr}{\var.\expr}{\var.\expr}
\\ %\gbar \ifthen {\expr_1}{\expr_2}{\expr_3} \\
&\gbar \roll e
 \gbar \unroll e\\
 %\gbar \letin{\var}{\expr_1}{\expr_2} \\
&\gbar \next \expr 
 \gbar \prev \expr 
 \gbar \pause \expr \\
%
\text{Residual table}\ \ 
\xi &::= \cdot
 \gbar \xi, {\hat y} \mapsto e \\
 %
\text{Values}\ \ 
v &::= ()\gbar\inte%\gbar\bool
 \gbar \lam{\var}{\expr} 
 \gbar (v,v) \\
&\gbar \inl v
 \gbar \inr v \\
&\gbar \next {\hat y}
 \gbar \pure {v}
\end{aligned}\]
\end{abstrsyn}
\caption{\lang~Syntax}
\label{fig:grammar}
\end{figure}

%
%\begin{figure}
%\caption{\ellStaged~Syntax}
%\label{fig:ellStagedSyntax}
%\centering
%\begin{tabular}{ll} 
%$\begin{aligned}
%\typeo &::= \text{unit}~|~\text{int}~|~\text{bool} \\
%&\gbar \typeo \times \typeo \\
%&\gbar \fut \typet \\
%\expro &::= ()~|~\inte~|~\bool  \\
%&\gbar \letin{\var}{\expro}{\expro} \\
%&\gbar \var \\
%&\gbar (\expro, \expro) \\
%&\gbar \pi_1~\expro \gbar \pi_2~\expro \\
%&\gbar \ifthen {\expro}{\expro}{\expro} \\
%&\gbar \next~\exprt \\
%\contextot &::=\emptyC \\
%&\gbar \contextot, \var : \typeo ^\bbone \\
%&\gbar \contextot, \var : \typet ^\bbtwo
%\end{aligned} $ 
%& 
%$\begin{aligned}
%\typet &::=  \text{unit}~|~\text{int}~|~\text{bool} \\
%&\gbar \typet \times \typet \\
%\\
%\exprt &::= ()~|~\inte~|~\bool \\
%&\gbar \letin{\var}{\exprt}{\exprt} \\
%&\gbar \var \\
%&\gbar (\exprt, \exprt) \\
%&\gbar \pi_1~\exprt \gbar \pi_2~\exprt \\
%&\gbar \ifthen {\exprt}{\exprt}{\exprt} \\
%&\gbar \prev~\expro \\
%\\
%\\
%\\
%\end{aligned} $
%\end{tabular}
%\end{figure}

%
%\begin{figure}
%\caption{\ellTarget~Syntax}
%\label{fig:ellTargetSyntax}
%\centering
%\begin{tabular}{ll} 
%$\begin{aligned}
%\expr &::= ()~|~\inte~|~\bool \\
%&\gbar \letin{\var}{\expr}{\expr} \\
%&\gbar \var \\
%&\gbar (\expr, \expr) \\
%&\gbar \pi_1~\expr \gbar \pi_2~\expr \\
%&\gbar \inl~\expr \gbar \inr~\expr \\
%&\gbar \ifthen {\expr}{\expr}{\expr}  \\
%&\gbar \caseof {\expr}{x_1.\expr}{x_2.\expr} 
%\end{aligned} $
%& 
%$\begin{aligned}
%\type &::=  \rmunit~|~\text{int}~|~\text{bool} \\
%&\gbar \type \times \type  \\
%&\gbar \type + \type 
%\\
%\context &::= \emptyC \\
%&\gbar \context, \var : \type
%\\ \\ \\ \\
%\end{aligned} $
%\end{tabular}
%\end{figure}
